name: multi-shallow-sweep
method: bayes
metric:
  name: cv/segment_level_final_f1_mean
  goal: maximize
run_cap: 100

parameters:
  n_filters:
    values:
      - "4_8"
      - "8_16"
      - "16_32"

  kernel_sizes:
    values:
      - "40_2__8_5"
      - "50_2__10_5"
      - "60_2__12_5"

  strides:
    values:
      - "8_4__6_3"
      - "10_5__8_4"
      - "12_6__10_5"

  paddings:
    values:
      - "0_0__0_0"
      - "5_0__1_1"
      - "10_1__2_2"

  activation:
    values:
      - "silu"
      - "relu"
      - "leaky_relu"
      - "gelu"

  spectral_hidden_size:
    values:
      - 32
      - 64
      - 128

  fusion_hidden_size:
    values:
      - 64
      - 128
      - 256

  gap_length:
    values:
      - 1
      - 2
      - 4

  raw_dropout_rate:
    distribution: uniform
    min: 0.1
    max: 0.7

  spectral_dropout_rate:
    distribution: uniform
    min: 0.1
    max: 0.7

  concat_dropout_rate:
    distribution: uniform
    min: 0.1
    max: 0.7

  learning_rate:
    distribution: log_uniform_values
    min: 1.0e-5
    max: 1.0e-2

  weight_decay:
    distribution: log_uniform_values
    min: 1.0e-6
    max: 1.0e-3

  raw_normalization:
    values:
      - channel-subject
      - sample-channel
      - sample
      - subject
      - channel
      - full

program: experiments.AD_vs_HC.combined.multi.sweep

command:
  - ${env}
  - uv
  - run
  - -m
  - ${program}
  - ${args}